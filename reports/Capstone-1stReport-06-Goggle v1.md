# Team-Info
| (1) 과제명 | LangChain 기반 AI 바둑 복기(復棋) 서비스:<br> 중급자 실력 향상을 위한 맞춤형 LLM해설 지원
|:---  |---  |
| (2) 팀 번호 / 팀 이름 | 06-Goggle |
| (3) 팀 구성원 | 한사랑 (2271064): 리더, PM, AI <br> 김희서 (2276093): 팀원, Back-end <br> 임가현 (1948072) : 팀원, Front-end		 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 과제 분류 | 산학과제 |
| (6) 과제 키워드 | 바둑, 복기, KataGo, LangChain, SGF |
| (7) 과제 내용 요약 | **바둑 AI엔진, 생성형 AI, SGF-Analyze** 오픈소스를 통합하여, 사용자가 업로드한 SGF 포맷의 바둑 기보를 분석 및 자동으로 해설을 생성하고 복기(復棋)를 지원하는 시스템 구축. |

<br>

# Project-Summary
| 항목            | 내용   |
| :--- | --- |
| (1) 문제 정의 | **AI 바둑 복기, 왜 아직도 어려울까요?**<br><br>바둑이 끝난 뒤의 **복기**(復棋)는 마치 **오답노트를 정리**하듯, 실력을 키우기 위해 꼭 필요한 과정입니다. <br>하지만 많은 아마추어 바둑 팬들에게 복기는 여전히 쉽지 않은 일입니다.<br><br>또한 AI의 도움을 받아 객관적인 분석과 개선점을 얻고자 하는 수요는 높지만, 기존의 AI 복기 서비스는 사용이 어렵거나 실질적인 도움이 되지 않는 경우가 많습니다.<br><br>**Goggle은 바로 이 지점에서 출발합니다.**<br><br>**Target Customer**: *중~고급 기력의 아마추어 바둑팬*<br>-AI 복기를 통해 효율적으로 기력 향상을 이루고 싶은 중~고급 수준의(타이젬 18급 이상) 바둑 아마추어.<br>-특히 스스로 복기하는 데 어려움을 느끼거나 AI 해설을 원하는 중급자층을 핵심 타겟으로 합니다.<br>-또한, 본인의 기보를 "아카이빙"하고자 하는 need를 가진 사용자를 위한 서비스입니다.<br><br>**Pain Points**:<br>**1. 복기 과정의 어려움과 비용 부담**<br>-복기는 많은 시간과 노력을 요구하는 작업입니다. 전문가의 도움을 받기 위해서는 경제적 부담도 따릅니다.<br>-또한, Katago와 같은 기존 AI 프로그램은 설치와 사용법이 복잡하고, 컴퓨터에 대한 상위수준 지식이 필요하여 일반 사용자가 접근하기 어렵습니다.<br><br>**2. 분석의 품질 및 맞춤형 해설 부족**<br>-기존의 AI 복기 서비스는 승률 그래프나 수치 중심의 정보만 제공하는 경우가 많습니다. 이는 사용자가 이해하기 어렵거나 실질적인 도움이 되지 않는 경우가 많습니다.<br><br>**3. 사용자 경험(UX)의 불편함**<br>-기존 서비스는 원하는 복기 기능을 찾기 어렵고, 분석 결과를 확인하는 화면이 직관적이지 않아 사용이 불편합니다.<br>-이는 결과적으로 사용자의 바둑 학습 동기를 떨어뜨릴 수 있습니다.<br><br>✅ 수정사항: 기존 문구의 가독성을 향상하였고, 목표 관련 문장은 삭제하였습니다. |
| (2) 기존 연구와의 비교 | **가. 웹 기반 온라인 대국/분석 서비스 (예: 타이젬 바둑, 오로 바둑 등)**<br><br>**주요 기능 및 특징:**<br>- 대규모 사용자를 기반으로 한 온라인 대국 중계 및 매칭 기능에 중점을 둡니다.<br>- 기본적인 AI 승률 분석이나 참고도 기능을 제공하기도 합니다.<br><br>**장점:**<br>- 웹 기반으로 **접근성이 높습니다.** (별도 설치 불필요)<br>- 온라인 대국을 편리하게 즐길 수 있으며, 많은 사용자와 교류할 수 있습니다.<br><br>**단점:**<br>- AI 분석 및 상세 해설 기능은 **주로 유료 모델**에 포함되어 있어 비용 부담이 발생합니다.<br>- 제공되는 해설 역시 수치 중심이거나 일반적인 수준에 그쳐, **개인의 실력 수준에 맞는 깊이 있는 맞춤형 해설을 기대하기 어렵습니다.** ('문제 정의'에서 언급된 해설 품질 문제)<br>- 기보 편집이나 체계적인 아카이빙, 개인화된 학습 관리 기능은 상대적으로 부족합니다.<br>- 주 목적이 '대국'에 맞춰져 있어, 심층적인 '복기 및 학습' 지원은 미흡한 편입니다.<br><br>**나. 로컬 설치형 오픈소스 분석 도구 (예: Sabaki, Katrain 등)**<br><br>**주요 기능 및 특징:**<br>- 로컬 컴퓨터에 설치하여 사용하는 SGF 기보 뷰어 및 편집기입니다.<br>- Katago와 같은 강력한 AI 엔진을 연동하여 상세한 국면 분석 기능을 제공합니다.<br><br>**장점:**<br>- 강력한 기보 편집 기능과 상세한 AI 분석(수순 추천, 승률 변화, 예상 진행 등) 기능을 **무료로 사용**할 수 있습니다.<br>- 분석의 깊이와 정확성 면에서는 뛰어난 성능을 보입니다.<br><br>**단점:**<br>- 사용자가 **직접 프로그램을 설치하고 AI 엔진을 세팅**해야 하므로 기술적인 장벽이 존재합니다.<br>- **온라인 대국 기능이 없으며**, 웹 서비스에 비해 **대중적인 접근성이 떨어집니다.**<br>- 분석 결과가 주로 수치나 엔진의 직접적인 출력 형태라, 중급자가 이해하기 쉬운 **자연어 해설이나 학습 가이드는 제공되지 않습니다.** ('문제 정의'에서 언급된 해설 품질 문제)<br>- 개인 기보의 온라인 아카이빙이나 기기 간 연동 등이 어렵습니다.<br><br>**다. 본 과제의 차별점 및 장점**<br><br>본 과제는 다음과 같은 차별점과 장점을 갖습니다.<br><br>**1. 접근성과 분석 심층성의 결합:** 별도 설치가 필요 없는 **웹 서비스의 높은 접근성**을 가지면서도, Katago 엔진 기반의 심층적인 기보 분석 능력을 제공합니다. 이는 기존 웹 서비스의 분석 깊이 한계와 오픈소스 도구의 접근성 및 설치 문제를 동시에 해결합니다.<br><br>**2. 맞춤형 LLM 기반 자연어 해설:** 기존 서비스들의 가장 큰 약점인 해설의 부재 또는 품질 문제를 **생성형 AI(LLM)와 LangChain 기술**을 통해 해결합니다. 분석 결과를 바탕으로 **사용자의 수준(향후 확장 가능성)을 고려한 이해하기 쉬운 자연어 해설**을 자동으로 생성하여 제공합니다.<br><br>**3. 개인화된 학습 경험 강화:** 사용자가 업로드한 **기보를 웹상에서 안전하게 아카이빙**하고, 언제든 다시 분석하거나 기본적인 편집(코멘트 추가 등)을 할 수 있는 기능을 제공하여 **개인 맞춤형 학습 관리**를 지원합니다. 이는 기존 웹 서비스의 부족한 개인화 기능과 로컬 도구의 불편함을 개선합니다.<br><br> **4. '복기 및 학습'에 특화:** 온라인 대국 기능보다는 **'업로드된 기보의 분석 및 해설을 통한 학습'** 이라는 명확한 목적에 집중하여, 해당 기능의 완성도와 사용자 경험(UX/UI)을 극대화하는 것을 목표로 합니다.<br><br>결론적으로, 본 과제는 기존 서비스들이 충족시키지 못했던 **'접근성 높고 이해하기 쉬운 맞춤형 AI 복기 해설'** 이라는 사용자의 핵심 니즈(Pain Point)를 해결합니다. |
| (3) 제안 내용      | **제안 내용**<br>본 과제는 **Katago 엔진, 생성형 AI(LLM), SGF-Analyze 오픈소스**를 통합한 **웹 기반 AI 복기 시스템**을 제안합니다. 사용자가 SGF 기보를 업로드하면, 시스템은 Katago로 정밀 분석한 후 LangChain 프레임워크를 통해 LLM이 **이해하기 쉬운 자연어 해설**을 자동으로 생성합니다.<br>이 시스템은 기존 복기의 어려움, 비용 부담, 해설 품질 부족 문제를 해결하며, 접근성 높고 교육적인 맞춤형 복기 경험을 제공하여 사용자의 실력 향상을 효과적으로 지원하는 것을 목표로 합니다.<br><br>**기술 스택**<br>바둑 AI 오픈소스: [KataGo](https://github.com/lightvector/KataGo)<br> - SGF 분석 오픈소스: [sgf-analyze](https://github.com/9beach/analyze-sgf), [sgf parser](https://github.com/SabakiHQ/sgf)<br> - Front-end: Next.js + TypeScript + Vercel<br> - Back-end: Nest.js + MongoDB<br>  - AI: LangChain, Python<br> - LLM: GPT4o|
| (4) 기대효과 및 의의  | 사용자 맞춤형 바둑 학습 지원: AI 기반의 자동 해설로 중고급자의 수준에 맞는 복기 지원, 실력 향상에 기여.<br> - 시간 절약 및 편의성 향상: 복잡한 분석 과정을 자동화하여 더 쉽게 바둑을 분석하고 해설을 얻을 수 있음. <br> - 연구 및 교육 자료 지원: 다양한 기보 데이터와 AI 해설을 통해 바둑 연구 및 교육의 자료로 활용할 수 있는 가능성|
| (5) 주요 기능 리스트  | **주요 기능**<br><br>**1. 사용자 인증 기능 (Authentication)**<br>- 사용자 계정을 관리하고 개인화된 서비스를 제공하기 위한 필수 기능입니다.<br>- JWT(JSON Web Token) 기반의 회원가입 및 로그인을 통해 사용자를 식별하고, 분석된 기보 저장, 개인 설정 등 맞춤형 기능을 안전하게 이용할 수 있도록 지원합니다.<br>- 이메일/비밀번호 기반 인증, 비밀번호 변경 및 찾기 기능을 포함하여 사용자 편의성과 보안성을 확보합니다.<br><br>**2. 바둑 기보 분석 기능 (AI Analysis)**<br>- 사용자가 업로드한 SGF 기보를 AI(Katago 엔진)를 이용해 자동으로 분석하는 핵심 기능입니다.<br>- '분석하기' 요청 시, 서버는 기보 데이터를 처리하여 AI 엔진에 전달하고, 엔진은 각 수의 승률 변화, 추천 수, 예상 진행 등을 계산합니다.<br>- 이 분석 결과는 후술할 해설 생성 및 하이라이트 기능의 기반 데이터로 활용되며, 사용자는 이를 통해 자신의 대국을 객관적으로 평가하고 개선점을 찾을 수 있습니다.<br><br> **3. 하이라이트 및 AI 해설 기능 (Highlight & LLM Comment)**<br>- AI 분석 결과를 바탕으로 게임의 흐름과 핵심 내용을 쉽게 파악하도록 돕는 기능입니다.<br>- 승률 변화가 급격했던 주요 장면(예: 결정적 실수, 좋은 수, 승부처)을 시스템이 자동으로 감지하여 기보 위에 시각적으로 하이라이트하여 표시합니다. 동시에, 해당 장면에 대해 LangChain과 LLM을 활용하여 생성된 자연어 해설을 함께 제공합니다.<br>- 이를 통해 사용자는 중요한 순간을 놓치지 않고, '왜' 그 수가 중요했는지에 대한 구체적인 설명을 통해 학습 효과를 극대화할 수 있습니다.<br><br>**4. 기보 저장, 불러오기 및 관리 기능 (Game Record Save, Load & Management)**<br>- 사용자의 학습 편의성과 데이터 연속성을 보장하는 기능입니다.<br>- 사용자는 자신의 컴퓨터에 있는 SGF 파일을 서비스에 업로드하여 분석할 수 있습니다.<br>- 분석이 완료된 기보(AI 분석 결과 및 생성된 해설 포함)는 사용자 계정에 안전하게 저장되어, 언제든지 목록에서 다시 불러와 복기를 이어가거나 관리할 수 있습니다.<br>- 이는 사용자가 자신의 학습 기록을 체계적으로 관리하고 필요할 때 다시 참조할 수 있게 합니다.|

<br>
 
# Project-Design & Implementation
| 항목  | 내용   |
| :--- | ------ |
| (1) 요구사항 정의  | ![Image](https://github.com/user-attachments/assets/c3e0d82b-5fb0-4e88-b364-32470d433eba) ![Image](https://github.com/user-attachments/assets/85adf532-b9f5-4ab1-b676-956d614e03d6)  |
| (2) 전체 시스템 구성    | ![Image](https://github.com/user-attachments/assets/ee5dbf07-25ae-49bd-8939-0d1cb93dee90) |
| (3) 주요엔진 및 기능 설계 | **1. Frontend (React + Next.js on Vercel)**<br><br>- 사용자 인증 (로그인/회원가입) UI 제공 및 API 연동<br>- SGF 기보 파일 업로드 인터페이스 구현<br>- 업로드/저장된 기보를 시각적으로 보여주는 바둑판 뷰어 (예: `react-sgf` 라이브러리 활용)<br>- AI 분석 결과(승률 그래프 등) 시각화 및 표시<br>- 하이라이트 지점 표시 및 해당 LLM 해설 텍스트 출력<br>- Backend API 서버와 데이터 통신 (API 요청 및 응답 처리)<br>- Vercel 플랫폼을 이용하여 Frontend 애플리케이션을 빌드, 배포 및 호스팅.<br><br>**2. Backend**<br><br>- **API Server (with Python):**<br>- 시스템의 핵심 비즈니스 로직 처리 및 API 제공, 모듈 간 데이터 흐름 제어<br>- Python 기반 웹 프레임워크(Flask 또는 Django)를 사용하여 RESTful API 엔드포인트를 구현.<br>사용자 인증(JWT 처리), SGF 파일 수신 및 유효성 검증, 데이터베이스 연동(사용자 정보, 기보 데이터, 분석 결과 저장/조회), KataGo 분석 모듈 호출, LangChain 해설 생성 모듈 호출 등 핵심 로직 구현.<br><br>- **KataGo Docker Module:**<br>- 바둑 AI 엔진인 KataGo를 Docker 컨테이너 환경에서 실행.<br>API 서버로부터 분석 요청(SGF 데이터 또는 특정 수순)을 받아, 해당 기보/수순에 대한 승률, 점수 차이, 추천 수, 예상 진행 등을 계산하여 JSON 형식으로 API 서버 또는 LangChain 모듈에 반환.<br><br>- **LangChain Module:**<br>- Python과 LangChain 라이브러리를 사용하여 구현.<br>API 서버로부터 전달받은 Katago 분석 결과(승률 변화, 실수 등)와 필요시 데이터베이스에서 조회한 추가 컨텍스트(예: 게임 정보)를 조합하여, 지정된 LLM(GPT-4)에 최적화된 프롬프트를 구성.<br>LLM API를 호출하고, 반환된 자연어 해설 텍스트를 가공하여 API 서버로 전달하는 역할을 담당.<br><br>- **Database (MongoDB):**<br>- 사용자 계정 정보(비밀번호는 해시 처리), 업로드된 SGF 데이터, 각 수에 대한 Katago 분석 결과, 하이라이트 정보, 생성된 LLM 해설 텍스트 등을 테이블 형태로 저장.<br><br>**3. AI Model (GPT-4 LLM)**<br><br>- OpenAI의 GPT-4 모델의 API를 활용. LangChain 모듈이 API 요청을 보내면, LLM은 설정된 지침에 따라 해설을 생성하여 응답함. |
| (4) 주요 기능의 구현    | **가. 사용자 인증 기능 (회원가입/로그인) 구현** <br><br>**기술 스택:**<br>    - 비밀번호 암호화: `bcrypt` 라이브러리 사용 (단방향 해시 함수)<br>    - 인증 토큰: JWT (JSON Web Token) 사용<br>    - Backend: Python (Flask/Django 등) + 관련 라이브러리 (`PyJWT`, `passlib`/`bcrypt`)<br>    - Frontend: React/Next.js + `axios` (API 요청)<br><br>**회원가입 (Signup) 프로세스:**<br>- **Frontend:** 사용자가 이메일, 비밀번호, 닉네임 입력 후 '회원가입' 버튼 클릭. 클라이언트 측 유효성 검사 수행.<br>    - **API 서버 (회원가입 Endpoint):**<br>        - 요청 데이터의 서버 측 유효성 검사 (형식, 길이, 필수값 등).<br>        - DB에서 이메일/닉네임 중복 확인.<br>        - 중복 없을 시, `bcrypt.hash()`로 비밀번호 해싱.<br>        - **해시된 비밀번호**와 사용자 정보를 **DB 사용자 테이블에 저장함**.<br>        - 성공/실패 응답을 Frontend로 전송함.<br>		<br>		**로그인 (Login) 프로세스:**    <br>    - **Frontend:** 사용자가 이메일, 비밀번호 입력 후 '로그인' 버튼 클릭.<br>    - **API 서버 (로그인 Endpoint):**<br>        - 이메일로 DB 사용자 조회.<br>        - 사용자 없을 시, '존재하지 않는 사용자' 오류 응답.<br>        - 사용자 있을 시, 입력된 비밀번호를 `bcrypt.check()`로 **저장된 해시값과 비교함**.<br>        - 비밀번호 일치 시:<br>            - 사용자 ID 등 Payload로 **JWT 생성** 및 서명.<br>            - 생성된 **JWT(Access Token)** 등을 **Frontend에 응답으로 전달함**.<br>        - 비밀번호 불일치 시: '비밀번호 불일치' 오류 응답.<br>    - **Frontend:**<br>        - 받은 JWT를 안전한 곳(예: `localStorage`, `Secure HttpOnly Cookie`)에 저장함.<br>        - 이후 API 요청 시 HTTP Header (`Authorization: Bearer <JWT>`)에 토큰 포함하여 전송함.<br>    - **API 서버 (인증 필요한 Endpoint):** 요청 헤더의 JWT 유효성 검증하여 사용자 식별 및 인가 처리 수행함.<br><br> **나. LLM 기반 해설 생성 기능 구현** (LangChain - GPT - 분석된 SGF 연동)<br><br>**기술 스택:**<br>    - AI 분석 엔진: Katago (Docker 기반 실행)<br>    - LLM 연동 프레임워크: LangChain (Python 라이브러리)<br>    - LLM: GPT-4 (OpenAI API 활용)<br>    - Backend: Python (Flask/Django 등) + `langchain`, `openai` 라이브러리<br>	<br>**해설 생성 프로세스:**    <br>    - **(선행)** Katago 분석 완료 후, 분석 결과를 DB에 저장함.<br>	<br>**1. 트리거 및 데이터 준비 (API Server):**<br>        - Katago 분석 완료 후 또는 사용자 요청 시 트리거됨.<br>        - DB에서 **Katago 분석 결과** 및 **하이라이트 정보** 로드함.<br>        - 각 하이라이트 지점에 대한 **맥락 정보**(수순, 승률 변화 등) 구조화함.<br>    <br> **2. LangChain 처리 및 프롬프트 구성 (LangChain Module):**<br>        - API 서버가 준비된 데이터를 LangChain 모듈에 전달함.<br>        - LangChain 내부에서 `PromptTemplate`을 사용하여 LLM(GPT-4)에 전달할 프롬프트 동적 구성함. (템플릿 내 분석 결과, 해설 지침 등 포함)<br>        - LLM 모델(`ChatOpenAI`) 객체 초기화 및 실행할 **Chain 정의함**.<br>		<br>**3. LLM API 호출 및 응답 처리 (LangChain Module -> GPT-4 API):**<br>        - LangChain이 구성된 프롬프트로 **GPT-4 API 호출함**.<br>        - LLM이 생성한 **자연어 해설 텍스트** 응답 받음.<br>        - LangChain/API 서버가 응답 텍스트 후처리하여 최종 해설 결과물 만듦.<br>        - 최종 결과물을 API 서버로 반환함.<br>		<br>**4. 결과 저장 및 제공 (API Server -> Database/Frontend):**<br>        - API 서버가 받은 **최종 해설 텍스트**를 해당 하이라이트 지점과 매핑하여 **DB에 저장함**.<br>        - Frontend 요청 시, API 서버는 DB에서 해설 텍스트를 읽어와 Frontend로 전달하여 화면에 표시함. |
| (5) 기타   | -  |
