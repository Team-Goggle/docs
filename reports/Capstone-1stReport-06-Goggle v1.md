# Team-Info
| (1) 과제명 | LangChain 기반 AI 바둑 복기(復棋) 서비스:<br> 중급자 실력 향상을 위한 맞춤형 LLM해설 지원
|:---  |---  |
| (2) 팀 번호 / 팀 이름 | 06-Goggle |
| (3) 팀 구성원 | 한사랑 (2271064): 리더, PM, AI <br> 김희서 (2276093): 팀원, Back-end <br> 임가현 (1948072) : 팀원, Front-end		 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 과제 분류 | 산학과제 |
| (6) 과제 키워드 | 바둑, 복기, KataGo, LangChain, SGF |
| (7) 과제 내용 요약 | **바둑 AI엔진, 생성형 AI, SGF-Analyze** 오픈소스를 통합하여, 사용자가 업로드한 SGF 포맷의 바둑 기보를 분석 및 자동으로 해설을 생성하고 복기(復棋)를 지원하는 시스템 구축. |

<br>

# Project-Summary
| 항목            | 내용   |
| :--- | --- |
| (1) 문제 정의 | <br>**AI 바둑 복기, 왜 아직도 어려울까요?**<br><br>바둑이 끝난 뒤의 **복기**(復棋)는, 마치 **오답노트를 정리하듯** 실력 향상을 위한 핵심 단계입니다. <br>하지만 아마추어 바둑 팬들에게 복기는 여전히 만만치 않은 과제입니다.<br><br>AI의 도움을 받아 **객관적인 분석과 개선점**을 얻고자 하는 수요는 분명 존재하지만, <br>기존 AI 복기 서비스는 **사용이 어렵거나 실질적인 도움이 되지 않는 경우가 많습니다.**<br><br> --- <br><br>**Target Customer**: *중~고급 기력의 아마추어 바둑팬*<br><br>- 타이젬 18급 이상, 복기를 통해 **실질적 기력 향상**을 원하는 사용자<br>    - 맞춤형 바둑 **AI 해설**에 대한 need를 가진 사용자<br>    - 자신의 기보를 체계적으로 **아카이빙**하려는 need를 가진 사용자<br><br> --- <br><br>**Pain Points**:<br><br>**1. 셀프 복기는 어렵고, 전문가의 도움은 비싸다**<br>- 바둑을 되돌아보는 과정은 많은 시간과 집중력을 요함.<br>- 전문가에게 받는 코칭은 비용 부담이 크고, 꾸준히 받기 어려움.<br><br>**2. 기존 AI는 너무 어렵고, 접근성이 떨어진다**<br>- 기존 바둑 AI 프로그램은 설치와 설정이 복잡하고, 컴퓨터에 대한 고수준 지식도 필요함.<br>- 대부분의 서비스는 수치나 그래프 중심의 정보만 제공하여 실질적인 이해로 이어지기 어려움.<br><br>**3. 사용자 경험이 불편해서, 결국 안쓰게 된다**<br>- 기보 파일을 올리는 것도 번거롭고, 분석 결과를 보는 화면이 직관적이지 않은 경우가 많음.<br>- 중요한 장면을 다시 찾아보기도 어렵고, 원하는 기능을 찾는 데 시간이 걸림. <br><br>✔️ 수정사항: 기존 문장의 가독성을 향상하였고, 목표 관련 문장은 삭제하였습니다. |
| (2) 기존 연구와의 비교 | ![Image](https://github.com/user-attachments/assets/4cee6fc6-2de1-4025-b1e3-dc15e82da091) <br><br>**🔍 기존 서비스 분석**<br><br>**1. 웹 기반 바둑 플랫폼 (타이젬, 오로 등)**<br>**강점:** 설치 없이 사용 가능하며, 대국과 커뮤니티 기능에 강점<br>**한계:** AI 해설은 유료에 한정되거나 피상적인 경우가 많고, 학습 목적의 개인화 기능은 부족함<br>    <br>**2. 로컬 설치형 분석 도구 (Sabaki, KaTrain 등)**<br>**강점:** Katago 기반의 정밀한 분석 제공. 기보 편집에 최적화<br>    **한계:** 설치와 세팅이 복잡하고, 자연어 해설이나 온라인 접근성, 개인화 기능이 제한적<br>    <br>**📍 본 과제의 차별성**<br><br>- **웹 기반의 접근성과 AI 분석을 결합**해 기존 도구의 한계를 극복<br>    - **LLM 기반 자연어 해설**로 중급자 눈높이에 맞춘 복기 제공<br>- **기보 아카이빙, 편집 기능**으로 간편한 기보 아카이빙 기능 지원<br>    - **바둑 학습에 집중된 UX**로 실력 향상에 최적화된 환경을 지향<br><br>✔️ 수정사항: 기존 줄글로 된 서비스 분석을 도표로 대체했습니다. 또한 차별화 포인트는 글로 보완했습니다. |
| (3) 제안 내용 | ![Image](https://github.com/user-attachments/assets/d0521d8d-72d1-41bf-8825-0c88a9a4ed0d)<br><br> **제안 내용**<br>저희는 위에서 제시한 Pain Points를 해결하기 위해,<br>**Katago, 생성형 AI(LLM), SGF-Analyze 오픈소스**를 통합한 **웹 기반 AI 복기 시스템**을 제안합니다.<br><br>**Key Idea**<br>- **Katago 기반의 기보 분석** → 성능이 뛰어난 AI 엔진으로 정확하고 깊이 있는 복기 제공<br>- **LangChain + LLM 자연어 해설 생성** → 수치가 아닌, 이해하기 쉬운 **맞춤형 해설** 제공으로 복기 시간/비용 절감<br>- **SGF 파일 분석 및 아카이빙 기능** → 사용자는 자신의 기보를 **저장하고 다시 불러와 학습**할 수 있음<br>    - **직관적인 웹 UI 기반 복기 도구(SGF 에디터)** → 기보 업로드, 분석 확인, 하이라이트 확인 등을 손쉽게 수행<br><br>**기술 스택**<br>- 바둑 AI 오픈소스: [KataGo](https://github.com/lightvector/KataGo)<br> - SGF 분석 오픈소스: [sgf-analyze](https://github.com/9beach/analyze-sgf), [sgf parser](https://github.com/SabakiHQ/sgf)<br> - Front-end: Next.js + TypeScript + Vercel<br> - Back-end: Nest.js + MongoDB<br>  - AI: LangChain, Python<br> - LLM: GPT4o<br><br> ✔️ 수정사항: idea 이미지 추가, 기존 설명을 더 쉽고 가독성 있는 문구로 대체 |
| (4) 기대효과 및 의의  | 사용자 맞춤형 바둑 학습 지원: AI 기반의 자동 해설로 중고급자의 수준에 맞는 복기 지원, 실력 향상에 기여.<br> - 시간 절약 및 편의성 향상: 복잡한 분석 과정을 자동화하여 더 쉽게 바둑을 분석하고 해설을 얻을 수 있음. <br> - 연구 및 교육 자료 지원: 다양한 기보 데이터와 AI 해설을 통해 바둑 연구 및 교육의 자료로 활용할 수 있는 가능성|
| (5) 주요 기능 리스트  | **주요 기능**<br><br>**1. 사용자 인증 기능 (Authentication)**<br>- 사용자 계정을 관리하고 개인화된 서비스를 제공하기 위한 필수 기능입니다.<br>- JWT(JSON Web Token) 기반의 회원가입 및 로그인을 통해 사용자를 식별하고, 분석된 기보 저장, 개인 설정 등 맞춤형 기능을 안전하게 이용할 수 있도록 지원합니다.<br>- 이메일/비밀번호 기반 인증, 비밀번호 변경 및 찾기 기능을 포함하여 사용자 편의성과 보안성을 확보합니다.<br><br>**2. 바둑 기보 분석 기능 (AI Analysis)**<br>- 사용자가 업로드한 SGF 기보를 AI(Katago 엔진)를 이용해 자동으로 분석하는 핵심 기능입니다.<br>- '분석하기' 요청 시, 서버는 기보 데이터를 처리하여 AI 엔진에 전달하고, 엔진은 각 수의 승률 변화, 추천 수, 예상 진행 등을 계산합니다.<br>- 이 분석 결과는 후술할 해설 생성 및 하이라이트 기능의 기반 데이터로 활용되며, 사용자는 이를 통해 자신의 대국을 객관적으로 평가하고 개선점을 찾을 수 있습니다.<br><br> **3. 하이라이트 및 AI 해설 기능 (Highlight & LLM Comment)**<br>- AI 분석 결과를 바탕으로 게임의 흐름과 핵심 내용을 쉽게 파악하도록 돕는 기능입니다.<br>- 승률 변화가 급격했던 주요 장면(예: 결정적 실수, 좋은 수, 승부처)을 시스템이 자동으로 감지하여 기보 위에 시각적으로 하이라이트하여 표시합니다. 동시에, 해당 장면에 대해 LangChain과 LLM을 활용하여 생성된 자연어 해설을 함께 제공합니다.<br>- 이를 통해 사용자는 중요한 순간을 놓치지 않고, '왜' 그 수가 중요했는지에 대한 구체적인 설명을 통해 학습 효과를 극대화할 수 있습니다.<br><br>**4. 기보 저장, 불러오기 및 관리 기능 (Game Record Save, Load & Management)**<br>- 사용자의 학습 편의성과 데이터 연속성을 보장하는 기능입니다.<br>- 사용자는 자신의 컴퓨터에 있는 SGF 파일을 서비스에 업로드하여 분석할 수 있습니다.<br>- 분석이 완료된 기보(AI 분석 결과 및 생성된 해설 포함)는 사용자 계정에 안전하게 저장되어, 언제든지 목록에서 다시 불러와 복기를 이어가거나 관리할 수 있습니다.<br>- 이는 사용자가 자신의 학습 기록을 체계적으로 관리하고 필요할 때 다시 참조할 수 있게 합니다.|

<br>
 
# Project-Design & Implementation
| 항목  | 내용   |
| :--- | ------ |
| (1) 요구사항 정의  | ![Image](https://github.com/user-attachments/assets/c3e0d82b-5fb0-4e88-b364-32470d433eba) ![Image](https://github.com/user-attachments/assets/85adf532-b9f5-4ab1-b676-956d614e03d6)  |
| (2) 전체 시스템 구성    | **SW 구조도** ![Image](https://github.com/user-attachments/assets/90e061f5-3aa3-4508-89ea-08ecb1866b2b) |
| (3) 주요엔진 및 기능 설계 | **1. Frontend (React + Next.js on Vercel)**<br><br>- 사용자 인증 (로그인/회원가입) UI 제공 및 API 연동<br>- SGF 기보 파일 업로드 인터페이스 구현<br>- 업로드/저장된 기보를 시각적으로 보여주는 바둑판 뷰어 (예: `react-sgf` 라이브러리 활용)<br>- AI 분석 결과(승률 그래프 등) 시각화 및 표시<br>- 하이라이트 지점 표시 및 해당 LLM 해설 텍스트 출력<br>- Backend API 서버와 데이터 통신 (API 요청 및 응답 처리)<br>- Vercel 플랫폼을 이용하여 Frontend 애플리케이션을 빌드, 배포 및 호스팅.<br><br>**2. Backend**<br><br>- **API Server (with Python):**<br>- 시스템의 핵심 비즈니스 로직 처리 및 API 제공, 모듈 간 데이터 흐름 제어<br>- Python 기반 웹 프레임워크(Flask 또는 Django)를 사용하여 RESTful API 엔드포인트를 구현.<br>사용자 인증(JWT 처리), SGF 파일 수신 및 유효성 검증, 데이터베이스 연동(사용자 정보, 기보 데이터, 분석 결과 저장/조회), KataGo 분석 모듈 호출, LangChain 해설 생성 모듈 호출 등 핵심 로직 구현.<br><br>- **KataGo Docker Module:**<br>- 바둑 AI 엔진인 KataGo를 Docker 컨테이너 환경에서 실행.<br>API 서버로부터 분석 요청(SGF 데이터 또는 특정 수순)을 받아, 해당 기보/수순에 대한 승률, 점수 차이, 추천 수, 예상 진행 등을 계산하여 JSON 형식으로 API 서버 또는 LangChain 모듈에 반환.<br><br>- **LangChain Module:**<br>- Python과 LangChain 라이브러리를 사용하여 구현.<br>API 서버로부터 전달받은 Katago 분석 결과(승률 변화, 실수 등)와 필요시 데이터베이스에서 조회한 추가 컨텍스트(예: 게임 정보)를 조합하여, 지정된 LLM(GPT-4)에 최적화된 프롬프트를 구성.<br>LLM API를 호출하고, 반환된 자연어 해설 텍스트를 가공하여 API 서버로 전달하는 역할을 담당.<br><br>- **Database (MongoDB):**<br>- 사용자 계정 정보(비밀번호는 해시 처리), 업로드된 SGF 데이터, 각 수에 대한 Katago 분석 결과, 하이라이트 정보, 생성된 LLM 해설 텍스트 등을 테이블 형태로 저장.<br><br>**3. AI Model (GPT-4 LLM)**<br><br>- OpenAI의 GPT-4 모델의 API를 활용. LangChain 모듈이 API 요청을 보내면, LLM은 설정된 지침에 따라 해설을 생성하여 응답함. |
| (4) 주요 기능의 구현    | **가. 사용자 인증 기능 (회원가입/로그인) 구현** <br><br>**기술 스택:**<br>    - 비밀번호 암호화: `bcrypt` 라이브러리 사용 (단방향 해시 함수)<br>    - 인증 토큰: JWT (JSON Web Token) 사용<br>    - Backend: Python (Flask/Django 등) + 관련 라이브러리 (`PyJWT`, `passlib`/`bcrypt`)<br>    - Frontend: React/Next.js + `axios` (API 요청)<br><br>**회원가입 (Signup) 프로세스:**<br>- **Frontend:** 사용자가 이메일, 비밀번호, 닉네임 입력 후 '회원가입' 버튼 클릭. 클라이언트 측 유효성 검사 수행.<br>    - **API 서버 (회원가입 Endpoint):**<br>        - 요청 데이터의 서버 측 유효성 검사 (형식, 길이, 필수값 등).<br>        - DB에서 이메일/닉네임 중복 확인.<br>        - 중복 없을 시, `bcrypt.hash()`로 비밀번호 해싱.<br>        - **해시된 비밀번호**와 사용자 정보를 **DB 사용자 테이블에 저장함**.<br>        - 성공/실패 응답을 Frontend로 전송함.<br>		<br>		**로그인 (Login) 프로세스:**    <br>    - **Frontend:** 사용자가 이메일, 비밀번호 입력 후 '로그인' 버튼 클릭.<br>    - **API 서버 (로그인 Endpoint):**<br>        - 이메일로 DB 사용자 조회.<br>        - 사용자 없을 시, '존재하지 않는 사용자' 오류 응답.<br>        - 사용자 있을 시, 입력된 비밀번호를 `bcrypt.check()`로 **저장된 해시값과 비교함**.<br>        - 비밀번호 일치 시:<br>            - 사용자 ID 등 Payload로 **JWT 생성** 및 서명.<br>            - 생성된 **JWT(Access Token)** 등을 **Frontend에 응답으로 전달함**.<br>        - 비밀번호 불일치 시: '비밀번호 불일치' 오류 응답.<br>    - **Frontend:**<br>        - 받은 JWT를 안전한 곳(예: `localStorage`, `Secure HttpOnly Cookie`)에 저장함.<br>        - 이후 API 요청 시 HTTP Header (`Authorization: Bearer <JWT>`)에 토큰 포함하여 전송함.<br>    - **API 서버 (인증 필요한 Endpoint):** 요청 헤더의 JWT 유효성 검증하여 사용자 식별 및 인가 처리 수행함.<br><br> **나. LLM 기반 해설 생성 기능 구현** (LangChain - GPT - 분석된 SGF 연동)<br><br>**기술 스택:**<br>    - AI 분석 엔진: Katago (Docker 기반 실행)<br>    - LLM 연동 프레임워크: LangChain (Python 라이브러리)<br>    - LLM: GPT-4 (OpenAI API 활용)<br>    - Backend: Python (Flask/Django 등) + `langchain`, `openai` 라이브러리<br>	<br>**해설 생성 프로세스:**    <br>    - **(선행)** Katago 분석 완료 후, 분석 결과를 DB에 저장함.<br>	<br>**1. 트리거 및 데이터 준비 (API Server):**<br>        - Katago 분석 완료 후 또는 사용자 요청 시 트리거됨.<br>        - DB에서 **Katago 분석 결과** 및 **하이라이트 정보** 로드함.<br>        - 각 하이라이트 지점에 대한 **맥락 정보**(수순, 승률 변화 등) 구조화함.<br>    <br> **2. LangChain 처리 및 프롬프트 구성 (LangChain Module):**<br>        - API 서버가 준비된 데이터를 LangChain 모듈에 전달함.<br>        - LangChain 내부에서 `PromptTemplate`을 사용하여 LLM(GPT-4)에 전달할 프롬프트 동적 구성함. (템플릿 내 분석 결과, 해설 지침 등 포함)<br>        - LLM 모델(`ChatOpenAI`) 객체 초기화 및 실행할 **Chain 정의함**.<br>		<br>**3. LLM API 호출 및 응답 처리 (LangChain Module -> GPT-4 API):**<br>        - LangChain이 구성된 프롬프트로 **GPT-4 API 호출함**.<br>        - LLM이 생성한 **자연어 해설 텍스트** 응답 받음.<br>        - LangChain/API 서버가 응답 텍스트 후처리하여 최종 해설 결과물 만듦.<br>        - 최종 결과물을 API 서버로 반환함.<br>		<br>**4. 결과 저장 및 제공 (API Server -> Database/Frontend):**<br>        - API 서버가 받은 **최종 해설 텍스트**를 해당 하이라이트 지점과 매핑하여 **DB에 저장함**.<br>        - Frontend 요청 시, API 서버는 DB에서 해설 텍스트를 읽어와 Frontend로 전달하여 화면에 표시함. |
| (5) 기타   | -  |
